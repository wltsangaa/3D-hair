<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>
      <b>Profile</b>
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content style="text-align: center">
	<div style="margin: 20px">
		<div style="position: relative; width: 100%; height: 160px;">
			<img src="/assets/imgs/avatar.png" style="width: auto; height: 160px; position: absolute; left: 0px; right: 0px; margin-left: auto; margin-right: auto; top: 0px; bottom: 0px; margin-top: auto; margin-bottom: auto; border-radius: 100px;">
			<img src="/assets/imgs/photo.png" style="width: auto; height: 40px; position: absolute; left: 160px; right: 0px; margin-left: auto; margin-right: auto; top: 0px; bottom: 0px; margin-top: auto; margin-bottom: auto;" (click)="upload_photo()">
		</div>
		<br>
		<font size="6px"><b>{{user_info.name}}</b></font>
		<br>
		<font size="4px">{{user_info.title}}</font>
	</div>
	<ion-segment>
	  <ion-segment-button *ngFor="let subsection of subsections" [checked]="subsection==selected_subsection" (click)="selected_subsection=subsection">
	  	<ion-label>{{subsection}}</ion-label>
	  </ion-segment-button>
	</ion-segment>
	<ion-list lines="none" *ngIf="selected_subsection==='about'">
		<ion-textarea id="about_input" [(ngModel)]="user_info.about" [readonly]="editItem!='About'" [color]="editItem=='About'?'primary':''" [ngClass]="editItem=='About'?'text_edit_true':'text_edit_false'">
		</ion-textarea>
		<button (click)="editAbout(editItem!='About')">
			<ion-label style="font-size: 18px; text-align: center;" color="orange" (click)="editAbout(editItem!='About')">
				{{editItem!='About'?'Edit':'Done'}}
			</ion-label>
		</button>
	</ion-list>
	<ion-list lines="none" *ngIf="selected_subsection==='settings'">
		<ion-item style="--ion-background-color: #FFFFFF">
		  	<div style="display: flex; align-items: center; width: 100%">
			  	<div style="padding: 10px 0px 10px 0px; flex: 5">
			  		<ion-label style="font-size: 17px; opacity: 0.3" no-padding>
			  			Name
			  		</ion-label>
		  		  	<ion-input style="font-size: 18px;" no-padding [readonly]="editItem!='Name'" [color]="editItem=='Name'?'primary':'black'" [(ngModel)]="user_info.name"></ion-input>
				</div>
				<div style="flex: 1">
					<button (click)="editName(editItem!='Name')">
						<ion-label style="font-size: 18px; text-align: center;" color="orange" (click)="editName(editItem!='Name')">
							{{editItem!='Name'?'Edit':'Done'}}
						</ion-label>
					</button>
				</div>
			</div>
		</ion-item>
		<ion-item style="--ion-background-color: #FFFFFF">
		  	<div style="display: flex; align-items: center; width: 100%">
			  	<div style="padding: 10px 0px 10px 0px; flex: 5">
			  		<ion-label style="font-size: 17px; opacity: 0.3" no-padding>
			  			Username
			  		</ion-label>
		  		  	<ion-input style="font-size: 18px;" no-padding [readonly]="editItem!='Username'" [color]="editItem=='Username'?'primary':'black'" [(ngModel)]="user_info.username"></ion-input>
				</div>
				<div style="flex: 1">
					<button (click)="editUsername(editItem!='Username')">
						<ion-label style="font-size: 18px; text-align: center;" color="orange" (click)="editUsername(editItem!='Username')">
							{{editItem!='Username'?'Edit':'Done'}}
						</ion-label>
					</button>
				</div>
			</div>
		</ion-item>
		<ion-item style="--ion-background-color: #FFFFFF">
		  	<div style="display: flex; align-items: center; width: 100%">
			  	<div style="padding: 10px 0px 10px 0px; flex: 5">
			  		<ion-label style="font-size: 17px; opacity: 0.3" no-padding>
			  			Email
			  		</ion-label>
		  		  	<ion-input style="font-size: 18px;" no-padding [readonly]="editItem!='Email'" [color]="editItem=='Email'?'primary':'black'" [(ngModel)]="user_info.email"></ion-input>
				</div>
				<div style="flex: 1">
					<button (click)="editEmail(editItem!='Email')">
						<ion-label style="font-size: 18px; text-align: center;" color="orange" (click)="editEmail(editItem!='Email')">
							{{editItem!='Email'?'Edit':'Done'}}
						</ion-label>
					</button>
				</div>
			</div>
		</ion-item>
		<ion-item>
		  	<div style="display: flex; align-items: center; width: 100%">
			  	<div style="padding: 10px 0px 10px 0px; flex: 5">
			  		<font size="3px" style="opacity: 0.3">Receive notifications</font>
			  		<br>
		  		  	<font size="4px">{{user_info.notification_toggle?"Enabled":"Disabled"}}</font>
				</div>
				<div style="flex: 1; margin-right: 10px">
					<ion-toggle color="orange" [(ngModel)]="user_info.notification_toggle" (click)="toggleNotification()">
					</ion-toggle>
				</div>
			</div>
		</ion-item>
	</ion-list>
	<ion-list lines="none" *ngIf="selected_subsection==='shots'">
		No shots
	</ion-list>
</ion-content>